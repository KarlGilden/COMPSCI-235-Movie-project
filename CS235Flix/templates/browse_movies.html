{% extends 'base.html' %}

{% block body %}

<div class="browse-container">
    <p style="font-size: 0.75em; color: grey; margin-bottom: 5px;">Search by:</p>
    <form class="form" action="/browse" method="get">
        <div class="search-settings">
            {{ form.search_settings }}
        </div>
        <div class="search-form">
            {{ form.search(class_="form-control") }}
            {{ form.csrf_token }}
        </div>
        
        <input class="submit" type="submit" value="Submit">
    </form>
    {% if search_query == '' and setting != None %}
    <p>Showing all movies ({{ setting }})</p>
    {% elif search_query != None and setting != None %}
    <p>Showing {{ setting }} movies for {{ search_query }}</p>
    {% else %}
    <p>Showing results for {{ search_query }}</p>
    {% endif %}

    {% if type %}
    <div class="movies">
    {% for movie in movies %}
        <a class="movie" href="{{ url_for('movies_bp.view_movie', movie_id=movie.id) }} ">
            <div class="movie-img">
                <img src="{{ movie.image_url }}" alt="Unable to load image">
            </div>
            <p class="movie-name">{{ movie.title }} &lt;{{ movie.release_year }}&gt;</p>
        </a>
    {% endfor %}
    </div>

    {% else %}
    <p>{{ movies }}</p>
    {% endif %}
</div>



{% endblock %}